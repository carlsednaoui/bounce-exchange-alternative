!function(e,n){"function"==typeof define&&define.amd?define(n):"object"==typeof exports?module.exports=n(require,exports,module):e.ouibounce=n()}(this,function(e,n,o){return function(e,n){"use strict";function o(e,n){return"undefined"==typeof e?n:e}function i(e){var n=24*e*60*60*1e3,o=new Date;return o.setTime(o.getTime()+n),"; expires="+o.toUTCString()}function t(){f()||(j.addEventListener("mouseleave",c),j.addEventListener("mousemove",d),j.addEventListener("keydown",s),window.addEventListener("scroll",l))}function r(){h||(h=setTimeout(v,D))}function u(){h&&(clearTimeout(h),h=null)}function c(e){e.clientY<=y&&r()}function d(){u()}function s(e){e.metaKey&&76===e.keyCode?r():u()}function l(){if(!N){var e=(new Date).getTime(),n=window.scrollY;N=setTimeout(function(){C=e,S=n,N=null},10)}window.scrollY<=0?(S-window.scrollY)/((new Date).getTime()-C+1)*1e3>=E&&r():u()}function a(e,n){return m()[e]===n}function m(){for(var e=document.cookie.split("; "),n={},o=e.length-1;o>=0;o--){var i=e[o].split("=");n[i[0]]=i[1]}return n}function f(){return a(x,"true")&&!k}function v(){f()||(e&&(e.style.display="block"),g(),w())}function w(e){var n=e||{};"undefined"!=typeof n.cookieExpire&&(L=i(n.cookieExpire)),n.sitewide===!0&&(Y=";path=/"),"undefined"!=typeof n.cookieDomain&&(b=";domain="+n.cookieDomain),"undefined"!=typeof n.cookieName&&(x=n.cookieName),document.cookie=x+"=true"+L+b+Y,j.removeEventListener("mouseleave",c),j.removeEventListener("mousemove",d),j.removeEventListener("keydown",s),window.removeEventListener("scroll",l)}var p=n||{},k=p.aggressive||!1,y=o(p.sensitivity,20),E=o(p.scrollSpeed,1e3),T=o(p.timer,1e3),D=o(p.delay,0),g=p.callback||function(){},L=i(p.cookieExpire)||"",b=p.cookieDomain?";domain="+p.cookieDomain:"",x=p.cookieName?p.cookieName:"viewedOuibounceModal",Y=p.sitewide===!0?";path=/":"",h=null,N=null,C=(new Date).getTime(),S=window.scrollY,j=document.documentElement;return setTimeout(t,T),{fire:v,disable:w,isDisabled:f}}});