!function(e,n){"function"==typeof define&&define.amd?define(n):"object"==typeof exports?module.exports=n(require,exports,module):e.ouibounce=n()}(this,function(){return function(e,n){function o(e,n){return"undefined"==typeof e?n:e}function i(e){var n=24*e*60*60*1e3,o=new Date;return o.setTime(o.getTime()+n),"; expires="+o.toGMTString()}function t(){y.addEventListener("mouseout",u),y.addEventListener("keydown",r)}function u(e){e.clientY>s||c("viewedOuibounceModal","true")&&!f||(d(),p())}function r(e){b||c("viewedOuibounceModal","true")&&!f||e.metaKey&&76==e.keyCode&&(b=!0,d(),p())}function c(e,n){var o=document.cookie.split("; ").reduce(function(e,n){var o=n.split("=");return e[o[0]]=o[1],e},{});return o[e]===n}function d(){e&&(e.style.display="block"),a()}function a(e){var e=e||{};"undefined"!=typeof e.cookieExpire&&(v=i(e.cookieExpire)),"undefined"!=typeof e.sitewide&&(k=";path=/"),"undefined"!=typeof e.cookieDomain&&(l=e.cookieDomain),document.cookie="viewedOuibounceModal=true"+v+l+k,y.removeEventListener("mouseout",u),y.removeEventListener("keydown",r)}var n=n||{},f=n.aggressive||!1,s=o(n.sensitivity,20),m=o(n.timer,1e3),p=n.callback||function(){},v=i(n.cookieExpire)||"",l=n.cookieDomain?";domain="+n.cookieDomain:"",k=n.sitewide===!0?";path=/":"",y=document.getElementsByTagName("html")[0];setTimeout(t,m);var b=!1;return{fire:d,disable:a}}});